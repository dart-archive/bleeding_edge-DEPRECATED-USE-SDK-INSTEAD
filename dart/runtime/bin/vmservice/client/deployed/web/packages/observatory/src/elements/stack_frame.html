<head>
  <link rel="import" href="curly_block.html">
  <link rel="import" href="function_ref.html">
  <link rel="import" href="instance_ref.html">
  <link rel="import" href="observatory_element.html">
  <link rel="import" href="script_ref.html">
</head>
<polymer-element name="stack-frame" extends="observatory-element">
  <template>
    <style>
      .memberList {
        display: table;
      }
      .memberItem {
        display: table-row;
      }
      .memberName, .memberValue {
        display: table-cell;
        vertical-align: top;
        padding: 3px 0 3px 1em;
        font: 400 14px 'Montserrat', sans-serif;
      }
    </style>
    <div class="row">
      <div class="col-md-1"></div>
      <div class="col-md-1">
        #{{ frame['depth'] }}
      </div>
      <div class="col-md-9">
        <function-ref ref="{{ frame['function'] }}"></function-ref>
        ( <script-ref ref="{{ frame['script'] }}"
                      pos="{{ frame['tokenPos'] }}">
        </script-ref> )

        <curly-block>
          <div class="memberList">
            <template repeat="{{ v in frame['vars'] }}">
              <div class="memberItem">
                <div class="memberName">{{ v['name']}}</div>
                <div class="memberValue">
                  <instance-ref ref="{{ v['value'] }}"></instance-ref>
                </div>
              </div>
            </template>
          </div>
        </curly-block>

      </div>
      <div class="col-md-1"></div>
    </div>


  </template>
  <script type="application/dart" src="stack_frame.dart"></script>
</polymer-element>
